<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<title>无标题文档</title> 
<script type="text/javascript" src="lib/jquery-2.1.0.js"></script> 
</head> 

<body> 
<!--<input type="button" id="btn" value="免费获取验证码" onclick="settime(this)" /> 
<form action="http://www.helloweba.net/" method="post" name="myform">
	<input type="button" class="button" value="获取手机验证码"  name="phone" onclick="showtime(5)">
</form>

<script type="text/javascript"> 
var countdown=5; 
function settime(val) { 
if (countdown == 0) { 
val.removeAttribute("disabled");    
val.value="免费获取验证码"; 
countdown = 5; 
} else { 
val.setAttribute("disabled", true); 
val.value="重新发送(" + countdown + ")"; 
countdown--; 
} 
setTimeout(function() { 
settime(val) 
},1000) 
} 
</script> 

<script>
function showtime(t){
	document.myform.phone.disabled=true;
	for(i=1;i<=t;i++) {
		window.setTimeout("update_p(" + i + ","+t+")", i * 1000);
	}

}

function update_p(num,t) {
	if(num == t) {
		document.myform.phone.value =" 重新发送 ";
		document.myform.phone.disabled=false;
	}
	else {
		printnr = t-num;
		document.myform.phone.value = " (" + printnr +")秒后重新发送";
	}
}
</script>-->
<input type="checkbox" id="all"/>全选<br />  
<input type="checkbox" name="sub" />image1.jpg<br />  
<input type="checkbox" name="sub"/>image2.jpg<br />  
<input type="checkbox" name="sub"/>image3.jpg<br />  
<input type="checkbox" name="sub"/>image4.jpg<br />  
<script type="text/javascript">
      $(function() {  
       $("#all").on('click',function() {  
      $("input[name='sub']").prop("checked", this.checked);  
      console.log(1)
});  
    
$("input[name='sub']").on('click',function() {  
      var $subs = $("input[name='sub']");  
      $("#all").prop("checked" , $subs.length == $subs.filter(":checked").length ? true :false);  
}); 

     });  
</script>

</body> 
</html> 